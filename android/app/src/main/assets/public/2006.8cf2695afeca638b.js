"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2006],{2006:(b,d,i)=>{i.r(d),i.d(d,{QrVerificationPageModule:()=>S});var u=i(6895),m=i(433),c=i(2078),f=i(2435),l=i(655),p=i(4112),e=i(4650),v=i(7935),x=i(5197),g=i(4003);const P=["scanner"],Q=function(t){return[t]};function V(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",1)(1,"zxing-scanner",2,3),e.NdJ("scanSuccess",function(r){e.CHM(n);const s=e.oxw();return e.KtG(s.onScanSuccess(r))}),e.qZA(),e._UZ(3,"div",4)(4,"div",5),e.qZA()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("formats",e.VKq(2,Q,n.qrcodeFormat))("torch",!0)}}const C=[{path:"",component:(()=>{class t{constructor(n,o,r,s){this.changeDetector=n,this.qrGeneratorService=o,this.alertController=r,this.db=s,this.qrcodeFormat=p.BarcodeFormat.QR_CODE,this.isCameraVisible=!0}ngOnInit(){}continueScanning(){return(0,l.mG)(this,void 0,void 0,function*(){this.isCameraVisible=!1,yield Promise.resolve().then(()=>{this.isCameraVisible=!0,this.scanner.reset(),this.scanner.scanStart()})})}onScanSuccess(n){this.scanner.reset(),this.db.database.ref("qrcodes").orderByChild("data").equalTo(n).once("value",o=>(0,l.mG)(this,void 0,void 0,function*(){let r="",s="";o.exists()?(r="\u2705 Success",s=`${n}<br><br>It is in our database as it was generated with our app!`):(r="\u274c Warning",s=`${n}<br><br>It is not in our database, therefore it was not created using our app.`);const h=yield this.alertController.create({header:r,message:s,buttons:[{text:"OK",handler:()=>(0,l.mG)(this,void 0,void 0,function*(){yield h.dismiss(),this.continueScanning(),this.changeDetector.detectChanges()})}]});yield h.present()}))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(e.sBO),e.Y36(v.w),e.Y36(c.Br),e.Y36(x.KQ))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-qr-verification"]],viewQuery:function(n,o){if(1&n&&e.Gf(P,5),2&n){let r;e.iGM(r=e.CRH())&&(o.scanner=r.first)}},decls:6,vars:1,consts:[["class","scanner-container",4,"ngIf"],[1,"scanner-container"],[1,"zxing-scanner",3,"formats","torch","scanSuccess"],["scanner",""],[1,"scanner-mask"],[1,"scanner-overlay"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"qr-verification"),e.qZA()()(),e.TgZ(4,"ion-content"),e.YNc(5,V,5,4,"div",0),e.qZA()),2&n&&(e.xp6(5),e.Q6J("ngIf",o.isCameraVisible))},dependencies:[u.O5,c.W2,c.Gu,c.wd,c.sr,g.S],styles:['.scanner-container[_ngcontent-%COMP%]{position:relative;height:100%}.zxing-scanner[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}.scanner-mask[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:2}.scanner-overlay[_ngcontent-%COMP%]:after{content:"";position:absolute;top:calc(20% - 100px);left:calc(50% - 100px);width:200px;height:200px;border:3px solid red;box-shadow:0 0 0 3000px rgba(0,0,0,.7);z-index:3}']}),t})()}];let y=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[f.Bz.forChild(C),f.Bz]}),t})(),S=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.ez,m.u5,c.Pc,y,g.f]}),t})()}}]);